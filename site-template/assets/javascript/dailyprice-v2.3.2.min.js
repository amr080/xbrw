function overrideDailyPrice(a,e){for(var t in e)$('[data-action="dailyprice"][data-location="'+a+'"][data-key="'+t+'"]').add('[data-action="dailyprice"][data-location="'+a+'"] [data-key="'+t+'"]').html(e[t]).attr("data-overridden","true")}var dailyprice=function(){function a(a,e){var t,i,d,c,r,o=$(e).data(),n=dateFormatter_v2(a[0].displaydate),l=o.location,p=o.id,s=$('[data-id="'+p+'"][data-action="dailyprice"][data-location="'+l+'"][data-key]').add('[data-id="'+p+'"][data-action="dailyprice"][data-location="'+l+'"] [data-key]').not('[data-id="'+p+'"][data-action="dailyprice"][data-location="'+l+'"] [data-action][data-key]').not('[data-id="'+p+'"][data-action="dailyprice"][data-location="'+l+'"] [data-action] [data-key]').not('[data-id="'+p+'"][data-action="dailyprice"][data-location="'+l+'"] [data-type][data-key]').not('[data-id="'+p+'"][data-action="dailyprice"][data-location="'+l+'"] [data-type] [data-key]');$.each(s,function(e,n){t=$(n).attr("data-key");var l=$(n).data();if("asofdate"==t||"displaydate"==t||"inceptiondate"==t?("asofdate"==t&&(t="displaydate"),i=dateFormatter_v2(a[0][t])):i=a[0][t],"cr"==t&&0!=i||"cr"!=t&&null!=i&&null!=i)switch(t){case"displaydate":case"asofdate":case"inceptiondate":$(n).append(i);break;case"premiumpercent":case"marketpercent":case"navpercent":case"leverageratio":$(n).append(formatPercentage(i));break;case"nav":case"marketvalue":case"last":case"ask":case"bid":case"mid":case"navprior":case"mid":case"marketchange":case"premiumdollar":case"navchange":if(o.currency&&"hidden"==o.currency){if(o.decimalplaces)var p={minimumFractionDigits:o.decimalplaces,maximumFractionDigits:o.decimalplaces};else p={};$(n).append(i.toLocaleString("en",p))}else $(n).append(formatDollar(i));break;case"vol":case"so":case"cr":$(n).append(addCommas(i,l.decimalplaces));break;case"markettotal":case"navtotal":case"totalassets":$(n).append(formatDollar(i,l.decimalplaces));break;case"class":case"symbol":case"cusip":case"resourcetype":case"exchange":$(n).append(i);break;default:null==$(n).attr("data-action")&&(console.log("dailyprice : Unrecognized Key. "+t),$(n).append(testDefined(i)))}else d=$(n).data("empty"),c=$(n).data("replace"),r=c?$(n).closest(c):$(n),d?r.text(d):r.text("-")}),"object"==typeof dailyprice_override&&"object"==typeof dailyprice_override[l]&&"object"==typeof dailyprice_override[l].overridevalues&&dailyprice_override[l].overridedate===n&&overrideDailyPrice(l,dailyprice_override[l].overridevalues),"undefined"!=typeof dailyPriceComplete&&$.isFunction(dailyPriceComplete)&&dailyPriceComplete(a,o)}return{run:function(){swapTempLocationTickers();var e=$('[data-action="dailyprice"][data-location]');$.each(e,function(t,i){var d=$(i).data(),c=d.location,r=api_url_v2+"dailyprice/"+c;d.id||$(i).attr("data-id","dailyprice-"+t).data("id","dailyprice-"+t),api.getData(r,"dailyprice-"+c,function(t){verifyData(t)?a(t,i):$.each(e,function(a,e){$(e).text("-")})})})}}}();