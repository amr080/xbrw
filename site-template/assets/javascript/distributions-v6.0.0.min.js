function callFor_Distributions(a){swapTempLocationTickers();for(var t=0;t<a.length;t++){window.distribution_dataCount++;var e=window.distribution_dataCount,d=api_url_v2+"Dividend/"+a[t];api.getData(d,"dividend-"+a[t],function(t){if(window.distribution_dataCount--,verifyData(t)||null!=e&&e>0)for(var d=0;d<t.length;d++){window.distribution_yearArray.push(t[d].exdateyear);var i=t[d].symbol.toUpperCase();if($('[data-action="dividend"]').is('[data-location="'+i+'"]')){var o=$('[data-action="dividend"][data-location="'+i+'"]').data(),n=$('[data-action="dividend"][data-location="'+i+'"] [data-clone="true"]');0==d?n.attr("data-id",d).attr("data-location",i):n.clone().attr("data-id",d).attr("data-exdate",t[d].exdate).attr("data-paydate",t[d].payabledate).attr("data-recorddate",t[d].recorddate).attr("estimated",t[d].estimated).attr("data-clone","false").attr("data-location",i).appendTo(n.parent());var r=$('[data-action="dividend"][data-location="'+i+'"] [data-id="'+d+'"]');appendDistributionData(t[d],r,o)}else{o=$('[data-action="dividend"]').data(),n=$('[data-action="dividend"] [data-clone="true"]');if("rows"==o.dividendtypedisplay){var l=!1;if(0==t[d].totalisnull)$.each(dividendTypeDisplay[0],function(e,r){if("-"!=t[d][e]&&null!=t[d][e]){0!=d||window.distribution_dataCount!=a.length-1||l?n.clone().attr("data-id",d).attr("data-exdate",t[d].exdate).attr("data-paydate",t[d].payabledate).attr("data-recorddate",t[d].recorddate).attr("data-clone","false").attr("data-location",i).attr("estimated",t[d].estimated).attr("data-dividendtype",e).data("dividendtype",e).find("[data-key='"+initialDividendType+"']").attr("data-key",e).parent().appendTo(n.parent()):(n.attr("data-id",d).attr("data-exdate",t[d].exdate).attr("data-paydate",t[d].payabledate).attr("data-recorddate",t[d].recorddate).attr("data-location",i).attr("estimated",t[d].estimated).attr("data-dividendtype",e).data("dividendtype",e).find("[data-key='dividendvalue']").attr("data-key",e),l=!0,initialDividendType=e);var c=$('[data-action="dividend"] [data-location="'+i+'"][data-id="'+d+'"][data-dividendtype="'+e+'"]');appendDistributionData(t[d],c,o)}});else{0==d?(n.attr("data-id",d).attr("data-exdate",t[d].exdate).attr("data-paydate",t[d].payabledate).attr("data-recorddate",t[d].recorddate).attr("data-location",i).attr("estimated",t[d].estimated),initialDividendType="dividendvalue"):n.clone().attr("data-id",d).attr("data-exdate",t[d].exdate).attr("data-paydate",t[d].payabledate).attr("data-recorddate",t[d].recorddate).attr("data-clone","false").attr("data-location",i).attr("estimated",t[d].estimated).appendTo(n.parent());r=$('[data-action="dividend"] [data-location="'+i+'"][data-id="'+d+'"]');appendDistributionData(t[d],r,o)}}else{0==d&&window.distribution_dataCount==a.length-1?n.attr("data-id",d).attr("data-exdate",t[d].exdate).attr("data-paydate",t[d].payabledate).attr("data-recorddate",t[d].recorddate).attr("data-location",i).attr("estimated",t[d].estimated):n.clone().attr("data-id",d).attr("data-exdate",t[d].exdate).attr("data-paydate",t[d].payabledate).attr("data-recorddate",t[d].recorddate).attr("data-clone","false").attr("data-location",i).attr("estimated",t[d].estimated).appendTo(n.parent());r=$('[data-action="dividend"] [data-location="'+i+'"][data-id="'+d+'"]');appendDistributionData(t[d],r,o)}}}else $(".nodistributions").html("<p>No distribution records found.</p>").stop().dequeue().css("display","block"),$(".distributions-wrapper").hide();var c=document.querySelectorAll('[data-key="symbol"]');if(c.forEach(function(a){if(""===a.innerHTML.trim()){var t=a.closest("tr");t&&t.classList.add("hidden")}}),0==window.distribution_dataCount){var s=window.distribution_yearArray.filter(returnUnique).sort().reverse();$("#distributionsDropdown").length>0&&drawDropDownYears(s),filterDistributions(s[0],thisFundArray),"undefined"!=typeof distributionsDataComplete&&$.isFunction(distributionsDataComplete)&&distributionsDataComplete(t)}})}}function appendDistributionData(a,t,e){t=$(t),null!=e.decimalplaces&&null!=e.decimalplaces&&(decimalPlaces=e.decimalplaces),null!=e.decimalplacespercent&&null!=e.decimalplacespercent&&(decimalPlacesPercent=e.decimalplacespercent),$.each(t.find("[data-key]"),function(e,d){var i=$(this).data(),o=i.key;switch(o){case"exdate":case"recorddate":case"payabledate":case"declarationdate":a[o]?t.find($('[data-key="'+o+'"]')).html(dateFormatter_v2(a[o])):t.find($('[data-key="'+o+'"]')).html("-");break;case"exdateyear":case"symbol":case"title":t.find($('[data-key="'+o+'"]')).html(a[o]);break;case"section19a":case"form8937":let e;"section19a"==o?e=a.documentname:"form8937"==o&&(e=a.complimentarydocumentname),verifyData(e)?t.find($('[data-key="'+o+'"]')).find("a").attr("href",myBase+e).show():t.find($('[data-key="'+o+'"]')).find("a").hide();break;case"dividendtype":var n=t.data("dividendtype");t.find($('[data-key="'+o+'"]')).html(dividendTypeDisplay[0][n]);break;case"totaldividedreinvestexdatenav":case"totaldividedreinvestspecific":t.find($('[data-key="'+o+'"]')).html(formatDistributionPercent(a[o]));break;default:t.find($('[data-key="'+o+'"]')).html(formatDistributionValue(a[o],i))}})}function countProperties(a){var t=0;for(var e in a)a.hasOwnProperty(e)&&++t;return t}function formatDistributionValue(a,t){var e="";return null!=t.decimalplaces&&(decimalPlaces=t.decimalplaces),e="-"!=a&&null!=a&&Number(a)>0?"$"+precisionRound(parseFloat(a),decimalPlaces):null!=t.empty?t.empty:"-",e}function formatDistributionPercent(a){var t="",e=100*parseFloat(a);return t="-"!=a&&null!=a?precisionRound(e,decimalPlacesPercent)+"%":"-",t}function returnUnique(a,t,e){return e.indexOf(a)===t}function drawDropDownYears(a){$.each(a,function(a,t){$("#distributionsDropdown").append("<option value='"+t+"'>"+t+"</option>")})}function addPlaceholderRows(a,t){$('[data-action="dividend"][data-location="'+t.location+'"] [data-total-row]').remove(),$('[data-action="dividend"][data-location="'+t.location+'"] [data-placeholder]').remove();var e=$('[data-action="dividend"][data-location="'+t.location+'"] [data-exdate*="'+a+'"]').length,d=$('[data-action="dividend"][data-location="'+t.location+'"] [data-clone="true"]');if(e<4)for(var i=0;i<4-e;i++)d.clone().attr("data-clone","false").attr("data-placeholder",!0).attr("class","sortbyignore").appendTo(d.parent()),$('[data-action="dividend"][data-location="'+t.location+'"] [data-placeholder="true"] td').html("&nbsp;")}function addTotalRow(a,t){var e,d=$('[data-action="dividend"][data-location="'+t.location+'"] [data-clone="true"]'),i=0;$('[data-action="dividend"][data-location="'+t.location+'"] [data-total-row]').remove(),$('[data-action="dividend"][data-location="'+t.location+'"] [data-exdate*="'+a+'"] [data-key="ord"]').each(function(){var a=$(this).text(),t=Number(a.replace(/[^0-9\.]+/g,""));i+=t}),d.clone().attr("data-clone","false").attr("data-total-row",!0).attr("data-exdate",a).attr("class","total-row sortbyignore").appendTo(d.parent()),$('[data-action="dividend"][data-location="'+t.location+'"] [data-exdate*="'+a+'"][data-total-row] [data-key="ord"]').attr("data-key","total--calc"),e=$('[data-action="dividend"][data-location="'+t.location+'"] [data-exdate*="'+a+'"][data-total-row] [data-key="total--calc"]').data(),$('[data-action="dividend"][data-location="'+t.location+'"] [data-exdate*="'+a+'"][data-total-row] td:eq(0)').html("Total"),$('[data-action="dividend"][data-location="'+t.location+'"] [data-exdate*="'+a+'"][data-total-row] td:gt(0)').empty(),$('[data-action="dividend"][data-location="'+t.location+'"] [data-exdate*="'+a+'"][data-total-row] [data-key="total--calc"]').append(formatDistributionValue(i,e))}function filterDistributions(a,t){var e=150,d="linear";$.each($('[data-action="dividend"]'),function(i,o){var n=$(this).data(),r=$(o).attr("id");$.each(t,function(a,t){var e=t.toUpperCase();$('[data-action="dividend"] [data-location="'+e+'"]').insertAfter($('[data-action="dividend"] tr:last-child'))}),null!=n&&1==n.addplaceholderrows&&addPlaceholderRows(a,n),null!=n&&1==n.addtotalrow&&addTotalRow(a,n),null!=n&&null!=n.fadeinspeed&&(e=n.fadeinspeed),null!=n&&null!=n.fadeineasing&&(d=n.fadeineasing),null!=n&&"column"==n.sortby&&null!=n.sortbycolumn&&(null!=n.sortbydirection?sortTable(r,n.sortbycolumn,n.sortbydirection):sortTable(r,n.sortbycolumn)),$(".nodistributions").hide(),"all"!=n.years&&($("[data-exdate]").stop().dequeue().hide(),$('[data-exdate*="'+a+'"]').stop().dequeue().show(e,d)),null!=$('[data-exdate*="'+a+'"]')&&a||$(".nodistributions").stop().dequeue().css("display","block"),$(".distributions-table").stop().dequeue().css("display","table"),addOddClasses(r)}),"undefined"!=typeof distributionsFilterComplete&&$.isFunction(distributionsFilterComplete)&&distributionsFilterComplete()}function addOddClasses(a){var t=$("#"+a).find("tr:visible").filter(":odd");for(i=0;i<t.length;i++)$(t[i]).addClass("odd-row")}function sortTable(a,t,e="desc"){let d=document.getElementById(a);d.style.cursor="progress";let i=[],o=d.closest("table"),n=o.querySelectorAll("tbody > tr");for(let a=1;a<n.length;a++){let e=n[a].getElementsByTagName("td")[t-1];i.push({sortText:new Date(e.innerHTML.toLowerCase()).getTime(),rowElement:n[a]})}var r=i.sort(function(a,t){if("asc"==e){if(a.sortText>t.sortText)return 1;if(a.sortText<t.sortText)return-1}else if("desc"==e){if(a.sortText>t.sortText)return-1;if(a.sortText<t.sortText)return 1}return 0});r.forEach((a,t)=>{a.rowElement.parentNode.insertBefore(a.rowElement,a.rowElement.parentNode.children[t+1])}),d.style.cursor=null}var distribution_yearArray=[],distribution_dataCount=0,decimalPlaces=4,decimalPlacesPercent=2,initialDividendType=void 0,dividendTypeDisplay=[{reinvestspecific:"Reinvest Specific",ord:"Ordinary Income",spcl:"Special",ltcg:"Long Term Capital Gains",stcg:"Short Term Capital Gains",roc:"Return of Capital",qdi:"Ordinary Dividend Income"}];$("#distributionsDropdown").change(function(){filterDistributions($(this).val())});