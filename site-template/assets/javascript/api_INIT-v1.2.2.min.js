var api=(function(){var f=[];var a=[];var h=[];var b={};var g=0;window.onload=function(){window.onLoadInterval=window.setInterval(d,100)};function d(){if(g==0){window.clearInterval(window.onLoadInterval);$.each(f,function(j,k){f[j]()})}}function c(){if(g==0){$.each(a,function(j,k){a[j]()})}}function e(j){var l=b[j].duplicate;for(var k=0;k<l.length;k++){if(l[k].dupCallBackRan!=true){l[k].callback(b[j].data,l[k].params);b[j].duplicate[k].dupCallBackRan=true}}}return{getData:function(k,i,l,j){i=i.toLowerCase();if(i in b==false){b[i]={};b[i].callBack=l;b[i].params=j;b[i].duplicate=[];b[i].complete=false}else{b[i].duplicate.push({duplicate:true,callback:l,params:j});if(b[i].complete){e(i)}h.push({dataCacheRecord:i,parameterArray:j});c()}if(b[i].duplicate.length<=0){g++;$.ajax({type:"GET",url:k,uniqueID:i,myParameters:j,dataType:"json",beforeSend:function(m){m.setRequestHeader("Authorization","Bearer "+window.token)},success:function(n,m){b[i].status=m;b[i].data=n;b[i].complete=true;l(n,this.myParameters);if(b[i].duplicate.length>=1){e(i)}h.push({dataCacheRecord:this.uniqueID,parameterArray:this.myParameters});g--;c()},error:function(m){if(m.status!=200&&m.status!=0){console.log("API Error.")}if(m.status==200&&m.status!=0){console.log("Data Type Error.")}if(m.status==404&&m.status!=0){console.log("Page Not Found.")}if(m.status==429&&m.status!=0){console.log("Too Many Requests.")}if(m.status==403&&m.status!=0){console.log("End Point Unavailable.")}if(m.status==401&&m.status!=0){console.log("Unauthorized.")}if(m.status==503&&m.status!=0){console.log("Service Unavailable.")}b[i].status=m.status;b[i].complete=true;l([],this.myParameters);if(b[i].duplicate.length>=1){e(i)}h.push({dataCacheRecord:this.uniqueID,parameterArray:this.myParameters});g--;c()}})}},set_allDataComplete:function(i,j){switch(j){case"prepend":a.unshift(i);break;case"append":a.push(i);break;default:a.unshift(i)}},set_pageHaltComplete:function(i,j){switch(j){case"prepend":f.unshift(i);break;case"append":f.push(i);break;default:f.unshift(i)}},audit:function(){console.log(b,"callTracker Object");console.log(h,"returnTracker Array");console.log("-------------------------------");var m=0;var l=[];for(var k in b){if(b[k].duplicate.length>0){m+=b[k].duplicate.length;l.push(k)}}console.log("Total Duplicates: ",m);if(l.length>0){for(var j=0;j<l.length;j++){console.log("Cache Record that contains duplicate: ",l[j]);console.log("Current Object that has duplicate call: ",b[l[j]])}}else{console.log("There are no duplicate calls on this page.")}},get_ajaxIsRunning:function(){return g},get_callTracker:function(){return b},get_lastData:function(){return b[h[h.length-1].dataCacheRecord].data},get_lastParams:function(){return h[h.length-1].parameterArray},get_lastReturned:function(){return h[h.length-1]},get_returnTracker:function(){return h},has_returned:function(i){var j=true;$.each(i,function(k,m){var l=false;$.each(Object.keys(b),function(n,o){if(o==m&&b[o].complete==true){l=true}});if(l==false){j=false}});return j}}})();api.set_allDataComplete(function(){if(typeof window.checkAllTableOverflows!="undefined"&&$.isFunction(window.checkAllTableOverflows)){window.checkAllTableOverflows()}if(typeof window.Waypoint!="undefined"&&$.isFunction(window.Waypoint.refreshAll)){window.Waypoint.refreshAll()}},"append");api.set_pageHaltComplete(function(){if(typeof window.styledSelect!="undefined"&&$.isFunction(window.styledSelect)){window.styledSelect()}if(typeof window.pageHaltScrollTo!="undefined"&&$.isFunction(window.pageHaltScrollTo)){window.pageHaltScrollTo()}},"append");